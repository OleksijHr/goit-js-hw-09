{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const localStorageKey = \"feedback-form-state\";\n\nconst form = document.querySelector(\".feedback-form\");\nconst emailInput = document.querySelector(\"[type='email'\");\nconst feedbackMessage = document.querySelector(\"textarea\");\n\n\n\nconst user = {\n    email: \"\",\n    message: \"\",\n};\n\nform.addEventListener(\"input\", onFormsInput);\nform.addEventListener(\"submit\", handleSubmit);\n\npopulateTextarea();\n\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n\n    console.log(user);\n\n    localStorage.removeItem(localStorageKey);\n    event.target.reset();\n};\n\n\nfunction populateTextarea() {\n    const savedUser = localStorage.getItem(localStorageKey, user);\n\n    if (emailInput.value === \"\" && feedbackMessage.value === \"\") {\n         if (savedUser) {\n            emailInput.value = JSON.parse(savedUser).email;\n            feedbackMessage.value = JSON.parse(savedUser).message;\n             \n             user.email = JSON.parse(savedUser).email;\n             user.message = JSON.parse(savedUser).message;\n        };\n    }; \n};\n\n\n\nfunction onFormsInput(event) {\n    user.email = event.currentTarget.elements.email.value.trim();\n    user.message = event.currentTarget.elements.message.value.trim();\n\n    localStorage.setItem(localStorageKey, JSON.stringify(user));\n};"],"names":["localStorageKey","form","emailInput","feedbackMessage","user","onFormsInput","handleSubmit","populateTextarea","event","savedUser"],"mappings":"uFAAA,MAAMA,EAAkB,sBAElBC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAa,SAAS,cAAc,eAAe,EACnDC,EAAkB,SAAS,cAAc,UAAU,EAInDC,EAAO,CACT,MAAO,GACP,QAAS,EACb,EAEAH,EAAK,iBAAiB,QAASI,CAAY,EAC3CJ,EAAK,iBAAiB,SAAUK,CAAY,EAE5CC,IAGA,SAASD,EAAaE,EAAO,CACzBA,EAAM,eAAc,EAEpB,QAAQ,IAAIJ,CAAI,EAEhB,aAAa,WAAWJ,CAAe,EACvCQ,EAAM,OAAO,OACjB,CAGA,SAASD,GAAmB,CACxB,MAAME,EAAY,aAAa,QAAQT,EAAiBI,CAAI,EAExDF,EAAW,QAAU,IAAMC,EAAgB,QAAU,IAChDM,IACDP,EAAW,MAAQ,KAAK,MAAMO,CAAS,EAAE,MACzCN,EAAgB,MAAQ,KAAK,MAAMM,CAAS,EAAE,QAE7CL,EAAK,MAAQ,KAAK,MAAMK,CAAS,EAAE,MACnCL,EAAK,QAAU,KAAK,MAAMK,CAAS,EAAE,QAGlD,CAIA,SAASJ,EAAaG,EAAO,CACzBJ,EAAK,MAAQI,EAAM,cAAc,SAAS,MAAM,MAAM,OACtDJ,EAAK,QAAUI,EAAM,cAAc,SAAS,QAAQ,MAAM,OAE1D,aAAa,QAAQR,EAAiB,KAAK,UAAUI,CAAI,CAAC,CAC9D"}